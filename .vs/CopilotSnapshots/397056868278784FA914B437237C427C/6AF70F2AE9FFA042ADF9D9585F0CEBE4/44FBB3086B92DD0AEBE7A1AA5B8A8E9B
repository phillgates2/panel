# Panel Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Database Configuration
# =============================================================================

# Database type selection (set to 1 for SQLite, omit or set to 0 for PostgreSQL)
PANEL_USE_SQLITE=1

# SQLite Configuration (when PANEL_USE_SQLITE=1)
PANEL_SQLITE_URI=sqlite:///panel_dev.db

# PostgreSQL Configuration (when PANEL_USE_SQLITE is not 1)
# Recommended for production deployments
PANEL_DB_HOST=localhost
PANEL_DB_PORT=5432
PANEL_DB_NAME=panel
PANEL_DB_USER=panel_user
PANEL_DB_PASS=changeme_secure_password

# =============================================================================
# Redis Configuration
# =============================================================================

# Redis URL for background jobs and caching
PANEL_REDIS_URL=redis://127.0.0.1:6379/0
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# Flask Configuration
# =============================================================================

# Secret key for session management (CHANGE THIS IN PRODUCTION!)
PANEL_SECRET_KEY=change-this-to-a-random-secret-key-in-production

# Flask environment (development or production)
FLASK_ENV=development
FLASK_DEBUG=1

# Application host and port
FLASK_HOST=0.0.0.0
FLASK_PORT=8080

# =============================================================================
# Security Settings
# =============================================================================

# Rate limiting
MAX_QUERIES_PER_MINUTE=30
MAX_FAILED_LOGINS=5

# Session configuration
SESSION_COOKIE_SECURE=False  # Set to True in production with HTTPS
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
PERMANENT_SESSION_LIFETIME=2592000  # 30 days in seconds

# IP whitelisting (comma-separated, leave empty to allow all)
ADMIN_IP_WHITELIST=

# =============================================================================
# CAPTCHA Configuration
# =============================================================================

# Enable CAPTCHA for login
CAPTCHA_ENABLED=True
CAPTCHA_LENGTH=6
CAPTCHA_TIMEOUT=300  # 5 minutes

# =============================================================================
# Email Configuration (for password reset, etc.)
# =============================================================================

MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USERNAME=your-email@example.com
MAIL_PASSWORD=your-email-password
MAIL_DEFAULT_SENDER=noreply@example.com

# =============================================================================
# Game Server Configuration
# =============================================================================

# Default ET:Legacy server binary path
ETLEGACY_SERVER_PATH=/usr/local/bin/etlded

# Server files directory
SERVER_FILES_DIR=/opt/etlegacy/servers

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log directory
LOG_DIR=instance/logs

# Enable audit logging
AUDIT_LOG_ENABLED=True
AUDIT_LOG_DIR=instance/audit_logs

# =============================================================================
# Admin Configuration
# =============================================================================

# Admin emails (comma-separated) for elevated permissions
PANEL_ADMIN_EMAILS=admin@localhost

# Log directory
LOG_DIR=instance/logs

# Enable audit logging
AUDIT_LOG_ENABLED=True
AUDIT_LOG_DIR=instance/audit_logs

# =============================================================================
# Monitoring & Analytics
# =============================================================================

# Enable monitoring
MONITORING_ENABLED=True

# Metrics retention (days)
METRICS_RETENTION_DAYS=90

# =============================================================================
# Development Settings
# =============================================================================

# Enable SQL query logging
SQLALCHEMY_ECHO=False

# Enable testing mode
TESTING=False

# =============================================================================
# File Upload Settings
# =============================================================================

# Maximum upload size (in bytes)
MAX_CONTENT_LENGTH=16777216  # 16MB

# Allowed file extensions
ALLOWED_EXTENSIONS=pk3,cfg,txt,log

# Upload directory
UPLOAD_FOLDER=instance/uploads

# =============================================================================
# API Configuration
# =============================================================================

# Enable API
API_ENABLED=True

# API rate limiting
API_RATE_LIMIT=100/hour

# =============================================================================
# Advanced Settings
# =============================================================================

# Worker configuration
RQ_WORKER_COUNT=1
RQ_WORKER_CLASS=rq.Worker

# Database connection pool
SQLALCHEMY_POOL_SIZE=10
SQLALCHEMY_POOL_TIMEOUT=30
SQLALCHEMY_POOL_RECYCLE=3600

# Enable/disable enterprise features
RBAC_ENABLED=False
MULTISERVER_ENABLED=False
LOG_ANALYTICS_ENABLED=False
